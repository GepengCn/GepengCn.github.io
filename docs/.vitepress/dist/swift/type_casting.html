<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>类型转换 | gepengcn.github.io</title>
    <meta name="description" content="visionOS From Scratch">
    <meta name="generator" content="VitePress v1.1.3">
    <link rel="preload stylesheet" href="/gepengcn.github.io/assets/style.Cyj8Pnj8.css" as="style">
    
    <script type="module" src="/gepengcn.github.io/assets/app.DcxY2JH5.js"></script>
    <link rel="preload" href="/gepengcn.github.io/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/gepengcn.github.io/assets/chunks/framework.C7sZLB-2.js">
    <link rel="modulepreload" href="/gepengcn.github.io/assets/chunks/theme.BHImprPJ.js">
    <link rel="modulepreload" href="/gepengcn.github.io/assets/swift_type_casting.md.gs6EY2ly.lean.js">
    <link rel="icon" href="/gepengcn.github.io/favicon.ico">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-5d98c3a5><!--[--><!--]--><!--[--><span tabindex="-1" data-v-0f60ec36></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-0f60ec36> Skip to content </a><!--]--><!----><header class="VPNav" data-v-5d98c3a5 data-v-ae24b3ad><div class="VPNavBar has-sidebar top" data-v-ae24b3ad data-v-ccf7ddec><div class="wrapper" data-v-ccf7ddec><div class="container" data-v-ccf7ddec><div class="title" data-v-ccf7ddec><div class="VPNavBarTitle has-sidebar" data-v-ccf7ddec data-v-ab179fa1><a class="title" href="/gepengcn.github.io/" data-v-ab179fa1><!--[--><!--]--><!--[--><img class="VPImage logo" src="/gepengcn.github.io/favicon.png" alt data-v-8426fc1a><!--]--><span data-v-ab179fa1>gepengcn.github.io</span><!--[--><!--]--></a></div></div><div class="content" data-v-ccf7ddec><div class="content-body" data-v-ccf7ddec><!--[--><!--]--><div class="VPNavBarSearch search" data-v-ccf7ddec><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-ccf7ddec data-v-7f418b0f><span id="main-nav-aria-label" class="visually-hidden" data-v-7f418b0f>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/gepengcn.github.io/index.html" tabindex="0" data-v-7f418b0f data-v-9c663999><!--[--><span data-v-9c663999>首页</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-7f418b0f data-v-b6c34ac9><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-b6c34ac9><span class="text" data-v-b6c34ac9><!----><span data-v-b6c34ac9>导航</span><span class="vpi-chevron-down text-icon" data-v-b6c34ac9></span></span></button><div class="menu" data-v-b6c34ac9><div class="VPMenu" data-v-b6c34ac9 data-v-e7ea1737><div class="items" data-v-e7ea1737><!--[--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link" href="/gepengcn.github.io/swift/index.html" data-v-43f1e123><!--[-->Swift<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link" href="/gepengcn.github.io/swiftui/index.html" data-v-43f1e123><!--[-->SwiftUI<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link" href="/gepengcn.github.io/realitykit/index.html" data-v-43f1e123><!--[-->RealityKit<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link" href="/gepengcn.github.io/arkit/index.html" data-v-43f1e123><!--[-->ARKit<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link" href="/gepengcn.github.io/accessibility/index.html" data-v-43f1e123><!--[-->Accessibility<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-ccf7ddec data-v-e6aabb21><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-e6aabb21 data-v-d1f28634 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-d1f28634></span><span class="vpi-moon moon" data-v-d1f28634></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-ccf7ddec data-v-0394ad82 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/GepengCn/gepengcn.github.io" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-eee4e7cb><span class="vpi-social-github" /></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-ccf7ddec data-v-d0bd9dde data-v-b6c34ac9><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-b6c34ac9><span class="vpi-more-horizontal icon" data-v-b6c34ac9></span></button><div class="menu" data-v-b6c34ac9><div class="VPMenu" data-v-b6c34ac9 data-v-e7ea1737><!----><!--[--><!--[--><!----><div class="group" data-v-d0bd9dde><div class="item appearance" data-v-d0bd9dde><p class="label" data-v-d0bd9dde>Appearance</p><div class="appearance-action" data-v-d0bd9dde><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-d0bd9dde data-v-d1f28634 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-d1f28634></span><span class="vpi-moon moon" data-v-d1f28634></span><!--]--></span></span></button></div></div></div><div class="group" data-v-d0bd9dde><div class="item social-links" data-v-d0bd9dde><div class="VPSocialLinks social-links-list" data-v-d0bd9dde data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/GepengCn/gepengcn.github.io" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-eee4e7cb><span class="vpi-social-github" /></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-ccf7ddec data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><div class="divider" data-v-ccf7ddec><div class="divider-line" data-v-ccf7ddec></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-5d98c3a5 data-v-a6f0e41e><div class="container" data-v-a6f0e41e><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-a6f0e41e><span class="vpi-align-left menu-icon" data-v-a6f0e41e></span><span class="menu-text" data-v-a6f0e41e>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-a6f0e41e data-v-267dd0ed><button data-v-267dd0ed>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-5d98c3a5 data-v-575e6a36><div class="curtain" data-v-575e6a36></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-575e6a36><span class="visually-hidden" id="sidebar-aria-label" data-v-575e6a36> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-575e6a36><section class="VPSidebarItem level-0 has-active" data-v-575e6a36 data-v-b8d55f3b><div class="item" role="button" tabindex="0" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><h2 class="text" data-v-b8d55f3b>Swift</h2><!----></div><div class="items" data-v-b8d55f3b><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/gepengcn.github.io/swift/index.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>导航</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/gepengcn.github.io/swift/basic.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>基础部分</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/gepengcn.github.io/swift/basic_operators.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>基本运算符</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/gepengcn.github.io/swift/string.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>字符串和字符</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/gepengcn.github.io/swift/collection.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>集合类型</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/gepengcn.github.io/swift/flow.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>控制流</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/gepengcn.github.io/swift/function.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>函数</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/gepengcn.github.io/swift/closure.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>闭包</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/gepengcn.github.io/swift/enum.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>枚举</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/gepengcn.github.io/swift/classandstruct.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>类和结构体</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/gepengcn.github.io/swift/property.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>属性</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/gepengcn.github.io/swift/method.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>方法</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/gepengcn.github.io/swift/subscript.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>下标</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/gepengcn.github.io/swift/extend.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>继承</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/gepengcn.github.io/swift/init.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>构造过程</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/gepengcn.github.io/swift/deinit.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>析构过程</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/gepengcn.github.io/swift/optional.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>可选链</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/gepengcn.github.io/swift/error.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>错误处理</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/gepengcn.github.io/swift/concurrency.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>并发</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/gepengcn.github.io/swift/type_casting.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>类型转换</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/gepengcn.github.io/swift/nested_type.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>嵌套类型</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/gepengcn.github.io/swift/extension.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>扩展</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/gepengcn.github.io/swift/protocol.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>协议</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/gepengcn.github.io/swift/generic.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>泛型</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/gepengcn.github.io/swift/opaque_type.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>不透明类型</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/gepengcn.github.io/swift/arc.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>自动引用计数</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/gepengcn.github.io/swift/memory_safety.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>内存安全</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/gepengcn.github.io/swift/access_control.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>访问控制</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/gepengcn.github.io/swift/advanced_operators.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>高级运算符</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-5d98c3a5 data-v-1428d186><div class="VPDoc has-sidebar has-aside" data-v-1428d186 data-v-39a288b8><!--[--><!--]--><div class="container" data-v-39a288b8><div class="aside" data-v-39a288b8><div class="aside-curtain" data-v-39a288b8></div><div class="aside-container" data-v-39a288b8><div class="aside-content" data-v-39a288b8><div class="VPDocAside" data-v-39a288b8 data-v-3f215769><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" role="navigation" data-v-3f215769 data-v-935f8a84><div class="content" data-v-935f8a84><div class="outline-marker" data-v-935f8a84></div><div class="outline-title" role="heading" aria-level="2" data-v-935f8a84>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-935f8a84><span class="visually-hidden" id="doc-outline-aria-label" data-v-935f8a84> Table of Contents for current page </span><ul class="VPDocOutlineItem root" data-v-935f8a84 data-v-b933a997><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-39a288b8><div class="content-container" data-v-39a288b8><!--[--><!--]--><main class="main" data-v-39a288b8><div style="position:relative;" class="vp-doc _gepengcn_github_io_swift_type_casting" data-v-39a288b8><div><h1 id="类型转换" tabindex="-1">类型转换 <a class="header-anchor" href="#类型转换" aria-label="Permalink to &quot;类型转换&quot;">​</a></h1><iframe style="border:none;" width="100%" height="450" src="https://whimsical.com/embed/QpM5hGKgP34qs97CFDPxiz"></iframe><p>类型转换允许你检查实例的类型，或者将实例作为其父类或子类的实例进行处理。</p><p>这主要通过 <code>is</code> 和 <code>as</code> 操作符来实现。</p><h2 id="为类型转换定义类层次" tabindex="-1">为类型转换定义类层次 <a class="header-anchor" href="#为类型转换定义类层次" aria-label="Permalink to &quot;为类型转换定义类层次&quot;">​</a></h2><p>类型转换可以让你在<strong>运行时检查实例的具体类型</strong>，或者<strong>将实例作为其层次结构中其他类型</strong>进行操作。</p><p>下面的代码段定义了一个类层次和一个包含了这些类实例的数组，作为类型转换的例子。</p><h3 id="定义基类和子类" tabindex="-1">定义基类和子类 <a class="header-anchor" href="#定义基类和子类" aria-label="Permalink to &quot;定义基类和子类&quot;">​</a></h3><p>首先，我们定义了一个基类 <code>MediaItem</code>：</p><div class="language-swift vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MediaItem</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> name: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    init</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> name</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>接着，我们定义了两个 <code>MediaItem</code> 的子类：<code>Movie</code> 和 <code>Song</code>。<code>Movie</code> 类增加了一个 <code>director</code>（导演）属性，而 <code>Song</code> 类增加了一个 <code>artist</code>（艺术家）属性。</p><p>这两个子类在初始化时，除了设置自己特有的属性，还需要调用父类的初始化器来设置共有的 <code>name</code> 属性：</p><div class="language-swift vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Movie</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">MediaItem </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> director: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    init</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">director</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.director </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> director</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        super</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">init</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: name)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Song</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">MediaItem </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> artist: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    init</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">artist</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.artist </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> artist</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        super</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">init</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: name)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="创建和推断类型的数组" tabindex="-1">创建和推断类型的数组 <a class="header-anchor" href="#创建和推断类型的数组" aria-label="Permalink to &quot;创建和推断类型的数组&quot;">​</a></h3><p>然后，我们创建了一个包含不同类型实例的数组 <code>library</code>，它包含了两个 <code>Movie</code> 实例和三个 <code>Song</code> 实例。</p><p>因为 Swift 的类型推断机制，这个数组的类型被推断为 <code>[MediaItem]</code>，即使数组中包含的是 <code>Movie</code> 和 <code>Song</code> 的实例：</p><div class="language-swift vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> library </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    Movie</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Casablanca&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">director</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Michael Curtiz&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    Song</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Blue Suede Shoes&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">artist</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Elvis Presley&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    Movie</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Citizen Kane&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">director</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Orson Welles&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    Song</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;The One And Only&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">artist</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Chesney Hawkes&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    Song</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Never Gonna Give You Up&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">artist</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Rick Astley&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span></code></pre></div><h3 id="类型检查和转换" tabindex="-1">类型检查和转换 <a class="header-anchor" href="#类型检查和转换" aria-label="Permalink to &quot;类型检查和转换&quot;">​</a></h3><p>在使用这个数组时，尽管数组中的元素被推断为 <code>MediaItem</code> 类型，实际上它们分别是 <code>Movie</code> 和 <code>Song</code> 的实例。</p><p>如果需要操作这些实例特有的属性（比如 <code>director</code> 或 <code>artist</code>），你必须先检查它们的实际类型，或者将它们转换为正确的子类型。</p><h2 id="检查类型" tabindex="-1">检查类型 <a class="header-anchor" href="#检查类型" aria-label="Permalink to &quot;检查类型&quot;">​</a></h2><p><code>is</code> 操作符用于确定一个实例是否属于某个类或者某个类的子类。</p><p>其基本语法如下：</p><div class="language-swift vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">instance </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">is</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Type</span></span></code></pre></div><p>这里，<code>instance</code> 是你要检查的实例，而 <code>Type</code> 是你想检查的类型。</p><p>如果 <code>instance</code> 是 <code>Type</code> 类型或其子类的实例，这个表达式返回 <code>true</code>；否则返回 <code>false</code>。</p><p>如果我们想遍历 <code>library</code> 数组，并检查每个元素的类型，我们可以这样做：</p><div class="language-swift vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> item </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> library {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> item </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">is</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Movie {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\(item.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 是一部电影&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> item </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">is</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Song {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\(item.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 是一首歌&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>在这个例子中，<code>is</code> 操作符被用来检查 <code>item</code> 是否为 <code>Movie</code> 类型或 <code>Song</code> 类型。</p><div class="tip custom-block"><p class="custom-block-title">类型检查的好处</p><ul><li><strong>安全性</strong>：通过确保类型在执行操作之前符合预期，可以防止运行时错误。</li><li><strong>灵活性</strong>：允许同一段代码处理多种类型的对象，使得代码更加通用和可重用。</li></ul></div><h2 id="向下转型" tabindex="-1">向下转型 <a class="header-anchor" href="#向下转型" aria-label="Permalink to &quot;向下转型&quot;">​</a></h2><div class="tip custom-block"><p class="custom-block-title">向下转型是一种将实例从它当前的类型转换为目标子类类型的操作。</p><p>向下转型通常在你确信某个实例实际上属于一个更具体的子类时使用，它允许你访问子类中定义的更具体的属性或方法。</p></div><p>Swift 提供了两种方式来执行向下转型：<code>as?</code> 和 <code>as!</code>。</p><h3 id="as-操作符" tabindex="-1"><code>as?</code> 操作符 <a class="header-anchor" href="#as-操作符" aria-label="Permalink to &quot;`as?` 操作符&quot;">​</a></h3><div class="info custom-block"><p class="custom-block-title"><code>as?</code> 返回一个可选值（ <code>optional</code> ），表示尝试将类型转换为你<strong>期望的目标类型</strong>。</p><ul><li>如果转换是合法的，<code>as?</code> 返回一个包含结果的可选值；</li><li>如果转换不合法，<code>as?</code> 将返回 <code>nil</code>，表示转换失败。</li></ul><p>这是一种安全的转型方法，因为它不会引起程序崩溃。</p></div><p>如果我们想从 <code>library</code> 数组中提取具体的 <code>Movie</code> 或 <code>Song</code> 实例，可以这样做：</p><div class="language-swift vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> item </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> library {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> movie </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> item </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Movie {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;电影名：</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\(movie.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">，导演：</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\(movie.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">director</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> if</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> song </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> item </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Song {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;歌曲名：</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\(song.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">，艺术家：</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\(song.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">artist</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>在这个例子中，<code>as?</code> 用来尝试将 <code>MediaItem</code> 类型的 <code>item</code> 转换为 <code>Movie</code> 或 <code>Song</code>。</p><h3 id="as-操作符-1" tabindex="-1"><code>as!</code> 操作符 <a class="header-anchor" href="#as-操作符-1" aria-label="Permalink to &quot;`as!` 操作符&quot;">​</a></h3><div class="danger custom-block"><p class="custom-block-title"><code>as!</code> 用于你已经确定可以将实例转换为更具体的类型的情况下。</p><ul><li>如果转换失败，<code>as!</code> 将引发运行时错误（ <code>crash</code> ）。</li><li>由于 <code>as!</code> 的这种强制性质，只有当你完全确定转换不会失败时，才应使用 <code>as!</code>。</li></ul></div><p>如果我们非常确定每个 <code>item</code> 都是 <code>Movie</code> 类型，可以使用 <code>as!</code>：</p><div class="language-swift vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> item </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> library {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> movie </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> item </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Movie</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;电影名：</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\(movie.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">，导演：</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\(movie.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">director</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>这段代码中，如果任何 <code>item</code> 实际上不是 <code>Movie</code>，程序将会崩溃。</p><div class="tip custom-block"><p class="custom-block-title">选择策略</p><ul><li><strong><code>as?</code></strong> 提供安全的类型转换，适用于你不确定转换是否总是成功的情况。</li><li><strong><code>as!</code></strong> 提供强制性的类型转换，适用于你能够确保转换永远成功的情况。</li></ul></div><h2 id="any-和-anyobject" tabindex="-1">Any 和 AnyObject <a class="header-anchor" href="#any-和-anyobject" aria-label="Permalink to &quot;Any 和 AnyObject&quot;">​</a></h2><p>在 Swift 中，<code>Any</code> 和 <code>AnyObject</code> 是两种非常特殊的类型，它们用于在代码中处理不确定类型的数据。</p><div class="tip custom-block"><p class="custom-block-title">Any</p><p><code>Any</code> 可以表示 Swift 中所有类型的值，包括函数和结构体。也就是说，无论是整数（ <code>Int</code> ）、字符串（ <code>String</code> ）、数组（ <code>Array</code> ）、字典（ <code>Dictionary</code> ）还是自定义的类和结构体，都可以用 <code>Any</code> 来表示。</p></div><div class="tip custom-block"><p class="custom-block-title">AnyObject</p><p><code>AnyObject</code> 可以代表任何类的实例。在 Swift 中，类是引用类型，所以 <code>AnyObject</code> 通常用于处理动态的类实例。</p><p>在 Objective-C 与 Swift 混编时，<code>AnyObject</code> 尤其常见，因为 Objective-C 的根类型 <code>NSObject</code> 可以通过 <code>AnyObject</code> 来表示。</p></div><p>示例</p><div class="language-swift vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> items: [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Hello&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Date</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(), { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Hello&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) }]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> item </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> items {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    switch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> item {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    case</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> text </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> String</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;这是一个字符串: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\(text)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    case</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> number </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Int</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;这是一个整数: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\(number)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    case</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> date </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Date</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;这是一个日期对象: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\(date)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    default:</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;其他类型&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MyClass</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> aClassInstance: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AnyObject</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> MyClass</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span></code></pre></div><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>在实际开发中，尽管 <code>Any</code> 和 <code>AnyObject</code> 很灵活，但过多使用它们会让你的代码变得难以理解和维护。</p><p>推荐在确实需要处理多种数据类型时再使用，平时尽量使用更具体的类型来保证代码的安全性和清晰度。</p></div></div></div></main><footer class="VPDocFooter" data-v-39a288b8 data-v-09de1c0f><!--[--><!--]--><div class="edit-info" data-v-09de1c0f><!----><div class="last-updated" data-v-09de1c0f><p class="VPLastUpdated" data-v-09de1c0f data-v-7e05ebdb>Last updated: <time datetime="2024-04-27T15:02:47.000Z" data-v-7e05ebdb></time></p></div></div><nav class="prev-next" data-v-09de1c0f><div class="pager" data-v-09de1c0f><a class="VPLink link pager-link prev" href="/gepengcn.github.io/swift/concurrency.html" data-v-09de1c0f><!--[--><span class="desc" data-v-09de1c0f>Previous page</span><span class="title" data-v-09de1c0f>并发</span><!--]--></a></div><div class="pager" data-v-09de1c0f><a class="VPLink link pager-link next" href="/gepengcn.github.io/swift/nested_type.html" data-v-09de1c0f><!--[--><span class="desc" data-v-09de1c0f>Next page</span><span class="title" data-v-09de1c0f>嵌套类型</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-5d98c3a5 data-v-e315a0ad><div class="container" data-v-e315a0ad><p class="message" data-v-e315a0ad>Released under the MIT License.</p><p class="copyright" data-v-e315a0ad>Copyright © 2024-present Gepeng</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"index.md\":\"LkcGGNkY\",\"swift_auto_ref_count.md\":\"ClQr19ZS\",\"realitykit_index.md\":\"DWWLVrnS\",\"arkit_index.md\":\"DvAbQgjp\",\"accessibility_index.md\":\"DLtcPUw1\",\"swift_access_control.md\":\"Cf5fX1_h\",\"swift_classandstruct.md\":\"DVyVHrw1\",\"swift_closure.md\":\"CitxvUbN\",\"swift_arc.md\":\"DZcE0Qrp\",\"swift_deinit.md\":\"B65r3phw\",\"swift_concurrency.md\":\"BfmSOgZr\",\"swift_basic_operators.md\":\"BEiOOy_U\",\"swift_collection.md\":\"BU4xGDNv\",\"swift_error.md\":\"DDEec9TG\",\"swift_enum.md\":\"DDR29RKn\",\"swift_extend.md\":\"BW4yXSEW\",\"swift_extension.md\":\"C82Zazhz\",\"swift_basic.md\":\"DGWr1pnE\",\"swift_index.md\":\"BqspkLHZ\",\"swift_function.md\":\"DMvXnOyR\",\"swift_advanced_operators.md\":\"CDeob8NX\",\"swift_generic.md\":\"BlDrafVq\",\"swift_nested_type.md\":\"od1UgSem\",\"swift_method.md\":\"DnJJTZ5L\",\"swift_memory_safety.md\":\"CyNgYxX3\",\"swift_init.md\":\"C8xo4qjT\",\"swift_opaque_type.md\":\"Btmql_Vg\",\"swift_senior_operators.md\":\"hG_MP79M\",\"swift_optional.md\":\"YPtKzNbx\",\"swift_property.md\":\"C2ixCfCK\",\"swiftui_animations_adding_state_based_animation_to_a_view.md\":\"Db7kgwYr\",\"swift_subscript.md\":\"BmyR_81R\",\"swift_protocol.md\":\"BYsCxJfc\",\"swift_flow.md\":\"BSgAsYwu\",\"swift_type_casting.md\":\"gs6EY2ly\",\"swift_string.md\":\"wRSvA2PC\",\"swiftui_animations_index.md\":\"CKsAWgp_\",\"swiftui_animations_synchronizing_geometries.md\":\"8aCM3PPW\",\"swiftui_animations_moving_an_animation_to_another_view.md\":\"D4IG4u7s\",\"swiftui_controls_and_indicators_choosing_a_color.md\":\"BjIM94WN\",\"swiftui_controls_and_indicators_choosing_dates.md\":\"CZbHtjEg\",\"swiftui_controls_and_indicators_choosing_from_a_set_of_options.md\":\"Dlq9ETCP\",\"swiftui_animations_updating_a_view_on_a_schedule.md\":\"CY2HGfw2\",\"swiftui_controls_and_indicators_getting_numeric_inputs.md\":\"Cqi8hIg5\",\"swiftui_app_extensions_app_extensions.md\":\"CjGJS9o0\",\"swiftui_app_organization.md\":\"BLUTjba-\",\"swiftui_app_extensions_supporting_additional_widget_sizes.md\":\"Bp-Wt91w\",\"swiftui_animations_defining_transitions.md\":\"B1IPdoxn\",\"swiftui_app_extensions_creating_a_widget_extension.md\":\"BIbjVkoG\",\"swiftui_controls_and_indicators_creating_buttons.md\":\"ClzrGnsT\",\"swiftui_controls_and_indicators_creating_special_purpose_buttons.md\":\"DjMnKe4E\",\"swiftui_controls_and_indicators_indicating_a_value.md\":\"Ba5xXHMB\",\"swiftui_animations_creating_custom_animations.md\":\"BiwPq-Gk\",\"swiftui_controls_and_indicators_linking_to_other_content.md\":\"CRcpofMd\",\"swiftui_animations_creating_phase_based_animation.md\":\"BqLxOV50\",\"swiftui_animations_adding_state_based_animation_to_an_action.md\":\"CbXHV4IJ\",\"swiftui_animations_making_data_animatable.md\":\"Drk3ov-C\",\"swiftui_drawing_and_graphics_setting_a_color.md\":\"DDlCHqon\",\"swiftui_drawing_and_graphics_immediate_mode_drawing.md\":\"8uoBRyy0\",\"swiftui_documents.md\":\"DwUxDsB9\",\"swiftui_drawing_and_graphics_styling_content.md\":\"63gqRdBX\",\"swiftui_images_managing_symbol_effects.md\":\"CxmysP6N\",\"swiftui_images_loading_images_asynchronously.md\":\"DU-4yKNS\",\"swiftui_drawing_and_graphics_scaling_rotating_or_transforming_a_view.md\":\"BUUDVSaI\",\"swiftui_environment_values.md\":\"VakGL9kz\",\"swiftui_immersive_spaces_adjusting_content_brightness.md\":\"CyreFaR1\",\"swiftui_images_configuring_an_image.md\":\"DCahfckN\",\"swiftui_immersive_spaces_closing_the_immersive_space.md\":\"BXBn0THH\",\"swiftui_index.md\":\"C4nhp9L0\",\"swiftui_images_setting_a_symbol_variant.md\":\"CuhqP4cO\",\"swiftui_immersive_spaces_creating_an_immersive_space.md\":\"C6nZtFPs\",\"swiftui_immersive_spaces_hiding_upper_limbs_during_immersion.md\":\"BymJcrcJ\",\"swiftui_drawing_and_graphics_transforming_colors.md\":\"ow-CAh8N\",\"swiftui_immersive_spaces_opening_an_immersive_space.md\":\"B3G-Lun2\",\"swiftui_menus_and_commands_creating_a_menu.md\":\"N6SCZjsF\",\"swiftui_modal_presentations_configuring_a_file_dialog.md\":\"DvYZBPtv\",\"swiftui_menus_and_commands_creating_context_menus.md\":\"tdENxDGn\",\"swiftui_modal_presentations_dismissing_a_presentation.md\":\"N6p8rw2d\",\"swiftui_modal_presentations_exporting_to_file.md\":\"9ID1YTfS\",\"swiftui_menus_and_commands_defining_commands.md\":\"q5MiP2GT\",\"swiftui_images_creating_an_image.md\":\"nstPzdD9\",\"swiftui_images_rendering_images_from_views.md\":\"D7O-mJYp\",\"swiftui_modal_presentations_adapting_a_presentation_to_size_classes.md\":\"CMNPBOBT\",\"swiftui_modal_presentations_configuring_a_sheets_height.md\":\"BQXJOYnE\",\"swiftui_modal_presentations_moving_a_file.md\":\"CYPydhIv\",\"swiftui_modal_presentations_configuring_a_dialog.md\":\"jRAMUhIt\",\"swiftui_modal_presentations_importing_from_file.md\":\"DP6kJ1bD\",\"swiftui_modal_presentations_getting_confirmation_for_an_action.md\":\"yQPw5CjZ\",\"swiftui_modal_presentations_presenting_an_alert.md\":\"BQcNeC_w\",\"swiftui_modal_presentations_showing_a_confirmation_dialog_with_a_message.md\":\"DRU5UcsZ\",\"swiftui_modal_presentations_presenting_an_alert_with_a_message.md\":\"BuPRYDb1\",\"swiftui_modal_presentations_presenting_an_inspector.md\":\"l0SZJJaO\",\"swiftui_modal_presentations_styling_a_sheet_and_its_background.md\":\"vzlxoW4f\",\"swiftui_navigation_configuring_the_sidebar.md\":\"BC7UEkmX\",\"swiftui_navigation_managing_column_collapse.md\":\"pTzf9RSe\",\"swiftui_navigation_displaying_views_in_multiple_panes.md\":\"C6NhA3-7\",\"swiftui_navigation_configuring_the_navigation_bar.md\":\"TLu0Mj1f\",\"swiftui_modal_presentations_showing_a_sheet_cover_or_popover.md\":\"mUqd9IjZ\",\"swiftui_navigation_presenting_views_in_tabs.md\":\"DRpQhYg3\",\"swiftui_navigation_setting_titles_for_navigation_content.md\":\"xbwJmZGI\",\"swiftui_navigation_stacking_views_in_one_column.md\":\"Dmau2OVJ\",\"swiftui_navigation_presenting_views_in_columns.md\":\"BoPpnG4Z\",\"swiftui_preferences.md\":\"CwTN0eWr\",\"swiftui_shapes_defining_shape_behavior.md\":\"CmnkZ83P\",\"swiftui_text_input_and_output_dictating_text.md\":\"DMaVzbJC\",\"swiftui_scenes.md\":\"NQnu8Ftn\",\"swiftui_text_input_and_output_adjusting_text_size.md\":\"Da4sxy--\",\"swiftui_model_data.md\":\"B3Wgx-sI\",\"swiftui_persistent_storage.md\":\"SYrbc9x4\",\"swiftui_shapes_drawing_a_path.md\":\"CkpjMF9F\",\"swiftui_search.md\":\"CbQbo66V\",\"swiftui_text_input_and_output_localizing_text.md\":\"CpeXVVN5\",\"swiftui_text_input_and_output_limiting_line_count_for_multiline_text.md\":\"D_A0WPi1\",\"swiftui_toolbars_configuring_the_toolbar_title_display_mode.md\":\"SI9wIl5w\",\"swiftui_text_input_and_output_managing_text_entry.md\":\"D-B0ItVp\",\"swiftui_text_input_and_output_setting_a_font.md\":\"XyGDqpoF\",\"swiftui_text_input_and_output_selecting_text.md\":\"pWCC5gYu\",\"swiftui_toolbars_setting_the_toolbar_title_menu.md\":\"B2jqT2Ep\",\"swiftui_toolbars_removing_default_items.md\":\"Bbo2qpNO\",\"swiftui_text_input_and_output_getting_text_input.md\":\"CbLX4MJC\",\"swiftui_toolbars_specifying_the_role_of_toolbar_content.md\":\"DEc95gzN\",\"swiftui_text_input_and_output_managing_text_layout.md\":\"Dn2sPrKp\",\"swiftui_toolbars_setting_toolbar_visibility.md\":\"OpdOiwT6\",\"swiftui_toolbars_creating_an_ornament.md\":\"Cc7MNqZi\",\"swiftui_toolbars_styling_a_toolbar.md\":\"Bar4Jw7l\",\"swiftui_toolbars_populating_a_customizable_toolbar.md\":\"Dj_211l_\",\"swiftui_toolbars_populating_a_toolbar.md\":\"DYW6dG8A\",\"swiftui_view_styles_styling_buttons.md\":\"DC5op0qn\",\"swiftui_text_input_and_output_displaying_text.md\":\"COqyQN_B\",\"swiftui_view_styles_styling_menus.md\":\"CPsMcKuZ\",\"swiftui_view_styles_styling_navigation_views.md\":\"BaI7Hotp\",\"swiftui_view_fundamentals.md\":\"Cy_i0VoB\",\"swiftui_view_styles_styling_toggles.md\":\"DaXkxZlK\",\"swiftui_view_styles_styling_indicators.md\":\"Dg4IscZP\",\"swiftui_view_configuration.md\":\"DLcmgeba\",\"swiftui_view_styles_styling_collection_views.md\":\"BaQO52w0\",\"swiftui_view_styles_styling_pickers.md\":\"BtWet10v\",\"swiftui_windows_closing_windows.md\":\"CiEM0xgP\",\"swiftui_view_styles_styling_views_that_display_text.md\":\"Bg3D7lQn\",\"swiftui_windows_window.md\":\"SmBzCzRU\",\"swiftui_windows_window_style.md\":\"CQubJgXp\",\"swiftui_windows_styling_the_associated_toolbar.md\":\"DYDwgmT3\",\"swiftui_view_styles_styling_groups.md\":\"CqXUleNB\",\"swiftui_windows_opening_windows.md\":\"FV62XDMR\",\"swiftui_windows_pos_sizing_window.md\":\"C-lxvXDB\",\"swiftui_windows_windowgroup.md\":\"BpbJq8ln\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"gepengcn.github.io\",\"description\":\"visionOS From Scratch\",\"base\":\"/gepengcn.github.io/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"logo\":\"/favicon.png\",\"nav\":[{\"text\":\"首页\",\"link\":\"/index.md\"},{\"text\":\"导航\",\"items\":[{\"text\":\"Swift\",\"link\":\"/swift/index.md\"},{\"text\":\"SwiftUI\",\"link\":\"/swiftui/index.md\"},{\"text\":\"RealityKit\",\"link\":\"/realitykit/index.md\"},{\"text\":\"ARKit\",\"link\":\"/arkit/index.md\"},{\"text\":\"Accessibility\",\"link\":\"/accessibility/index.md\"}]}],\"sidebar\":{\"/swift/\":[{\"text\":\"Swift\",\"items\":[{\"text\":\"导航\",\"link\":\"/swift/index.md\"},{\"text\":\"基础部分\",\"link\":\"/swift/basic.md\"},{\"text\":\"基本运算符\",\"link\":\"/swift/basic_operators.md\"},{\"text\":\"字符串和字符\",\"link\":\"/swift/string.md\"},{\"text\":\"集合类型\",\"link\":\"/swift/collection.md\"},{\"text\":\"控制流\",\"link\":\"/swift/flow.md\"},{\"text\":\"函数\",\"link\":\"/swift/function.md\"},{\"text\":\"闭包\",\"link\":\"/swift/closure.md\"},{\"text\":\"枚举\",\"link\":\"/swift/enum.md\"},{\"text\":\"类和结构体\",\"link\":\"/swift/classandstruct.md\"},{\"text\":\"属性\",\"link\":\"/swift/property.md\"},{\"text\":\"方法\",\"link\":\"/swift/method.md\"},{\"text\":\"下标\",\"link\":\"/swift/subscript.md\"},{\"text\":\"继承\",\"link\":\"/swift/extend.md\"},{\"text\":\"构造过程\",\"link\":\"/swift/init.md\"},{\"text\":\"析构过程\",\"link\":\"/swift/deinit.md\"},{\"text\":\"可选链\",\"link\":\"/swift/optional.md\"},{\"text\":\"错误处理\",\"link\":\"/swift/error.md\"},{\"text\":\"并发\",\"link\":\"/swift/concurrency.md\"},{\"text\":\"类型转换\",\"link\":\"/swift/type_casting.md\"},{\"text\":\"嵌套类型\",\"link\":\"/swift/nested_type.md\"},{\"text\":\"扩展\",\"link\":\"/swift/extension.md\"},{\"text\":\"协议\",\"link\":\"/swift/protocol.md\"},{\"text\":\"泛型\",\"link\":\"/swift/generic.md\"},{\"text\":\"不透明类型\",\"link\":\"/swift/opaque_type.md\"},{\"text\":\"自动引用计数\",\"link\":\"/swift/arc.md\"},{\"text\":\"内存安全\",\"link\":\"/swift/memory_safety.md\"},{\"text\":\"访问控制\",\"link\":\"/swift/access_control.md\"},{\"text\":\"高级运算符\",\"link\":\"/swift/advanced_operators.md\"}]}],\"/swiftui/\":[{\"text\":\"SwiftUI\",\"items\":[{\"text\":\"导航\",\"link\":\"/swiftui/index.md\"},{\"text\":\"App structure\",\"collapsed\":true,\"items\":[{\"text\":\"App organization\",\"link\":\"/swiftui/app_organization.md\"},{\"text\":\"Scenes\",\"link\":\"/swiftui/scenes.md\"},{\"text\":\"Windows\",\"collapsed\":true,\"items\":[{\"text\":\"Creating windows\",\"items\":[{\"text\":\"WindowGroup\",\"link\":\"/swiftui/windows/windowgroup.md\"},{\"text\":\"Window\",\"link\":\"/swiftui/windows/window.md\"},{\"text\":\"WindowStyle\",\"link\":\"/swiftui/windows/window_style.md\"}]},{\"text\":\"Styling the associated toolbar\",\"link\":\"/swiftui/windows/styling_the_associated_toolbar.md\"},{\"text\":\"Opening windows\",\"link\":\"/swiftui/windows/opening_windows.md\"},{\"text\":\"Closing windows\",\"link\":\"/swiftui/windows/closing_windows.md\"},{\"text\":\"Positioning and sizing a window\",\"link\":\"/swiftui/windows/pos_sizing_window.md\"}]},{\"text\":\"Immersive spaces\",\"collapsed\":true,\"items\":[{\"text\":\"Creating an immersive space\",\"link\":\"/swiftui/immersive_spaces/creating_an_immersive_space.md\"},{\"text\":\"Opening an immersive space\",\"link\":\"/swiftui/immersive_spaces/opening_an_immersive_space.md\"},{\"text\":\"Closing the immersive space\",\"link\":\"/swiftui/immersive_spaces/closing_the_immersive_space.md\"},{\"text\":\"Hiding upper limbs during immersion\",\"link\":\"/swiftui/immersive_spaces/hiding_upper_limbs_during_immersion.md\"},{\"text\":\"Adjusting content brightness\",\"link\":\"/swiftui/immersive_spaces/adjusting_content_brightness.md\"}]},{\"text\":\"Documents\",\"link\":\"/swiftui/documents.md\"},{\"text\":\"Navigation\",\"collapsed\":true,\"items\":[{\"text\":\"Presenting views in columns\",\"link\":\"/swiftui/navigation/presenting_views_in_columns.md\"},{\"text\":\"Stacking views in one column\",\"link\":\"/swiftui/navigation/stacking_views_in_one_column.md\"},{\"text\":\"Managing column collapse\",\"link\":\"/swiftui/navigation/managing_column_collapse.md\"},{\"text\":\"Setting titles for navigation content\",\"link\":\"/swiftui/navigation/setting_titles_for_navigation_content.md\"},{\"text\":\"Configuring the navigation bar\",\"link\":\"/swiftui/navigation/configuring_the_navigation_bar.md\"},{\"text\":\"Presenting views in tabs\",\"link\":\"/swiftui/navigation/presenting_views_in_tabs.md\"},{\"text\":\"Displaying views in multiple panes\",\"link\":\"/swiftui/navigation/displaying_views_in_multiple_panes.md\"}]},{\"text\":\"Modal presentations\",\"collapsed\":true,\"items\":[{\"text\":\"Showing a sheet, cover, or popover\",\"link\":\"/swiftui/modal_presentations/showing_a_sheet_cover_or_popover.md\"},{\"text\":\"Adapting a presentation to size classes\",\"link\":\"/swiftui/modal_presentations/adapting_a_presentation_to_size_classes.md\"},{\"text\":\"Configuring a sheet’s height\",\"link\":\"/swiftui/modal_presentations/configuring_a_sheets_height.md\"},{\"text\":\"Styling a sheet and its background\",\"link\":\"/swiftui/modal_presentations/styling_a_sheet_and_its_background.md\"},{\"text\":\"Presenting an alert\",\"link\":\"/swiftui/modal_presentations/presenting_an_alert.md\"},{\"text\":\"Presenting an alert with a message\",\"link\":\"/swiftui/modal_presentations/presenting_an_alert_with_a_message.md\"},{\"text\":\"Getting confirmation for an action\",\"link\":\"/swiftui/modal_presentations/getting_confirmation_for_an_action.md\"},{\"text\":\"Showing a confirmation dialog with a message\",\"link\":\"/swiftui/modal_presentations/showing_a_confirmation_dialog_with_a_message.md\"},{\"text\":\"Configuring a dialog\",\"link\":\"/swiftui/modal_presentations/configuring_a_dialog.md\"},{\"text\":\"Exporting to file\",\"link\":\"/swiftui/modal_presentations/exporting_to_file.md\"},{\"text\":\"Importing from file\",\"link\":\"/swiftui/modal_presentations/importing_from_file.md\"},{\"text\":\"Moving a file\",\"link\":\"/swiftui/modal_presentations/moving_a_file.md\"},{\"text\":\"Configuring a file dialog\",\"link\":\"/swiftui/modal_presentations/configuring_a_file_dialog.md\"},{\"text\":\"Presenting an inspector\",\"link\":\"/swiftui/modal_presentations/presenting_an_inspector.md\"},{\"text\":\"Dismissing a presentation\",\"link\":\"/swiftui/modal_presentations/dismissing_a_presentation.md\"}]},{\"text\":\"Toolbars\",\"collapsed\":true,\"items\":[{\"text\":\"Populating a toolbar\",\"link\":\"/swiftui/toolbars/populating_a_toolbar.md\"},{\"text\":\"Populating a customizable toolbar\",\"link\":\"/swiftui/toolbars/populating_a_customizable_toolbar.md\"},{\"text\":\"Removing default items\",\"link\":\"/swiftui/toolbars/removing_default_items.md\"},{\"text\":\"Setting toolbar visibility\",\"link\":\"/swiftui/toolbars/setting_toolbar_visibility.md\"},{\"text\":\"Specifying the role of toolbar content\",\"link\":\"/swiftui/toolbars/specifying_the_role_of_toolbar_content.md\"},{\"text\":\"Styling a toolbar\",\"link\":\"/swiftui/toolbars/styling_a_toolbar.md\"},{\"text\":\"Configuring the toolbar title display mode\",\"link\":\"/swiftui/toolbars/configuring_the_toolbar_title_display_mode.md\"},{\"text\":\"Setting the toolbar title menu\",\"link\":\"/swiftui/toolbars/setting_the_toolbar_title_menu.md\"},{\"text\":\"Creating an ornament\",\"link\":\"/swiftui/toolbars/creating_an_ornament.md\"}]},{\"text\":\"Search\",\"link\":\"/swiftui/search.md\"},{\"text\":\"App extensions\",\"collapsed\":true,\"items\":[{\"text\":\"App extensions\",\"link\":\"/swiftui/app_extensions/app_extensions.md\"},{\"text\":\"Creating a widget extension\",\"link\":\"/swiftui/app_extensions/creating_a_widget_extension.md\"},{\"text\":\"Supporting additional widget sizes\",\"link\":\"/swiftui/app_extensions/supporting_additional_widget_sizes.md\"}]}]},{\"text\":\"Data and storage\",\"collapsed\":true,\"items\":[{\"text\":\"Model data\",\"link\":\"/swiftui/model_data.md\"},{\"text\":\"Environment values\",\"link\":\"/swiftui/environment_values.md\"},{\"text\":\"Preferences\",\"link\":\"/swiftui/preferences.md\"},{\"text\":\"Persistent storage\",\"link\":\"/swiftui/persistent_storage.md\"}]},{\"text\":\"View fundamentals\",\"link\":\"/swiftui/view_fundamentals\"},{\"text\":\"View configuration\",\"link\":\"/swiftui/view_configuration\"},{\"text\":\"View styles\",\"collapsed\":true,\"items\":[{\"text\":\"Styling buttons\",\"link\":\"/swiftui/view_styles/styling_buttons\"},{\"text\":\"Styling pickers\",\"link\":\"/swiftui/view_styles/styling_pickers\"},{\"text\":\"Styling menus\",\"link\":\"/swiftui/view_styles/styling_menus\"},{\"text\":\"Styling toggles\",\"link\":\"/swiftui/view_styles/styling_toggles\"},{\"text\":\"Styling indicators\",\"link\":\"/swiftui/view_styles/styling_indicators\"},{\"text\":\"Styling views that display text\",\"link\":\"/swiftui/view_styles/styling_views_that_display_text\"},{\"text\":\"Styling collection views\",\"link\":\"/swiftui/view_styles/styling_collection_views\"},{\"text\":\"Styling navigation views\",\"link\":\"/swiftui/view_styles/styling_navigation_views\"},{\"text\":\"Styling groups\",\"link\":\"/swiftui/view_styles/styling_groups\"}]},{\"text\":\"Animations\",\"collapsed\":true,\"items\":[{\"text\":\"Index\",\"link\":\"/swiftui/animations/index\"},{\"text\":\"Adding state-based animation to an action\",\"link\":\"/swiftui/animations/adding_state_based_animation_to_an_action\"},{\"text\":\"Adding state-based animation to a view\",\"link\":\"/swiftui/animations/adding_state_based_animation_to_a_view\"},{\"text\":\"Creating phase-based animation\",\"link\":\"/swiftui/animations/creating_phase_based_animation\"},{\"text\":\"Creating custom animations\",\"link\":\"/swiftui/animations/creating_custom_animations\"},{\"text\":\"Making data animatable\",\"link\":\"/swiftui/animations/making_data_animatable\"},{\"text\":\"Updating a view on a schedule\",\"link\":\"/swiftui/animations/updating_a_view_on_a_schedule\"},{\"text\":\"Synchronizing geometries\",\"link\":\"/swiftui/animations/synchronizing_geometries\"},{\"text\":\"Defining transitions\",\"link\":\"/swiftui/animations/defining_transitions\"},{\"text\":\"Moving an animation to another view\",\"link\":\"/swiftui/animations/moving_an_animation_to_another_view\"}]},{\"text\":\"Text input and output\",\"collapsed\":true,\"items\":[{\"text\":\"Displaying text\",\"link\":\"/swiftui/text_input_and_output/displaying_text\"},{\"text\":\"Getting text input\",\"link\":\"/swiftui/text_input_and_output/getting_text_input\"},{\"text\":\"Selecting text\",\"link\":\"/swiftui/text_input_and_output/selecting_text\"},{\"text\":\"Setting a font\",\"link\":\"/swiftui/text_input_and_output/setting_a_font\"},{\"text\":\"Adjusting text size\",\"link\":\"/swiftui/text_input_and_output/adjusting_text_size\"},{\"text\":\"Managing text layout\",\"link\":\"/swiftui/text_input_and_output/managing_text_layout\"},{\"text\":\"Limiting line count for multiline text\",\"link\":\"/swiftui/text_input_and_output/limiting_line_count_for_multiline_text\"},{\"text\":\"Managing text entry\",\"link\":\"/swiftui/text_input_and_output/managing_text_entry\"},{\"text\":\"Dictating text\",\"link\":\"/swiftui/text_input_and_output/dictating_text\"},{\"text\":\"Localizing text\",\"link\":\"/swiftui/text_input_and_output/localizing_text\"}]},{\"text\":\"Images\",\"collapsed\":true,\"items\":[{\"text\":\"Creating an image\",\"link\":\"/swiftui/images/creating_an_image\"},{\"text\":\"Configuring an image\",\"link\":\"/swiftui/images/configuring_an_image\"},{\"text\":\"Loading images asynchronously\",\"link\":\"/swiftui/images/loading_images_asynchronously\"},{\"text\":\"Setting a symbol variant\",\"link\":\"/swiftui/images/setting_a_symbol_variant\"},{\"text\":\"Managing symbol effects\",\"link\":\"/swiftui/images/managing_symbol_effects\"},{\"text\":\"Rendering images from views\",\"link\":\"/swiftui/images/rendering_images_from_views\"}]},{\"text\":\"Controls and indicators\",\"collapsed\":true,\"items\":[{\"text\":\"Creating buttons\",\"link\":\"/swiftui/controls_and_indicators/creating_buttons\"},{\"text\":\"Creating special-purpose buttons\",\"link\":\"/swiftui/controls_and_indicators/creating_special_purpose_buttons\"},{\"text\":\"Linking to other content\",\"link\":\"/swiftui/controls_and_indicators/linking_to_other_content\"},{\"text\":\"Getting numeric inputs\",\"link\":\"/swiftui/controls_and_indicators/getting_numeric_inputs\"},{\"text\":\"Choosing from a set of options\",\"link\":\"/swiftui/controls_and_indicators/choosing_from_a_set_of_options\"},{\"text\":\"Choosing dates\",\"link\":\"/swiftui/controls_and_indicators/choosing_dates\"},{\"text\":\"Choosing a color\",\"link\":\"/swiftui/controls_and_indicators/choosing_a_color\"},{\"text\":\"Indicating a value\",\"link\":\"/swiftui/controls_and_indicators/indicating_a_value\"}]},{\"text\":\"Menus and commands\",\"collapsed\":true,\"items\":[{\"text\":\"Creating a menu\",\"link\":\"/swiftui/menus_and_commands/creating_a_menu\"},{\"text\":\"Creating context menus\",\"link\":\"/swiftui/menus_and_commands/creating_context_menus\"},{\"text\":\"Defining commands\",\"link\":\"/swiftui/menus_and_commands/defining_commands\"}]},{\"text\":\"Shapes\",\"collapsed\":true,\"items\":[{\"text\":\"Drawing a path\",\"link\":\"/swiftui/shapes/drawing_a_path\"},{\"text\":\"Defining shape behavior\",\"link\":\"/swiftui/shapes/defining_shape_behavior\"}]},{\"text\":\"Drawing and graphics\",\"collapsed\":true,\"items\":[{\"text\":\"Immediate mode drawing\",\"link\":\"/swiftui/drawing_and_graphics/immediate_mode_drawing\"},{\"text\":\"Setting a color\",\"link\":\"/swiftui/drawing_and_graphics/setting_a_color\"},{\"text\":\"Styling content\",\"link\":\"/swiftui/drawing_and_graphics/styling_content\"},{\"text\":\"Transforming colors\",\"link\":\"/swiftui/drawing_and_graphics/transforming_colors\"},{\"text\":\"Scaling, rotating, or transforming a view\",\"link\":\"/swiftui/drawing_and_graphics/scaling_rotating_or_transforming_a_view\"}]}]}],\"/realitykit/\":[{\"text\":\"RealityKit\",\"items\":[{\"text\":\"RealityKit Index\",\"link\":\"/realitykit/index.md\"}]}],\"/arkit/\":[{\"text\":\"ARKit\",\"items\":[{\"text\":\"ARKit Index\",\"link\":\"/arkit/index.md\"}]}],\"/accessibility/\":[{\"text\":\"Accessibility\",\"items\":[{\"text\":\"Accessibility Index\",\"link\":\"/accessibility/index.md\"}]}]},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/GepengCn/gepengcn.github.io\"}],\"footer\":{\"message\":\"Released under the MIT License.\",\"copyright\":\"Copyright © 2024-present Gepeng\"},\"search\":{\"provider\":\"local\"}},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>