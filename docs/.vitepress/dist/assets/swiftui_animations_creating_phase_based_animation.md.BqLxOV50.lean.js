import{_ as h,c as n,l as s,a as i,a4 as a,o as t}from"./chunks/framework.C7sZLB-2.js";const l="/gepengcn.github.io/assets/SimpleAnimationOne.BDwgOR02.mp4",e="/gepengcn.github.io/assets/SimpleAnimationTwo.BTLkNnzh.mp4",p="/gepengcn.github.io/assets/PhaseAnimator.CoGtqj73.mp4",k="/gepengcn.github.io/assets/PhaseAnimatorTrigger.CLgVjcTs.mp4",r="/gepengcn.github.io/assets/PhaseAnimatorEffect.DV5OC9U9.mp4",E="/gepengcn.github.io/assets/PhaseAnimatorMore.BAW0BG7l.mp4",d="/gepengcn.github.io/assets/KeyframeAnimator.B4d74l_d.mp4",xi=JSON.parse('{"title":"Creating phase-based animation","description":"","frontmatter":{},"headers":[],"relativePath":"swiftui/animations/creating_phase_based_animation.md","filePath":"swiftui/animations/creating_phase_based_animation.md","lastUpdated":1715579410000}'),o={name:"swiftui/animations/creating_phase_based_animation.md"},g=a("",9),y={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},c={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.186ex"},xmlns:"http://www.w3.org/2000/svg",width:"6.914ex",height:"1.692ex",role:"img",focusable:"false",viewBox:"0 -666 3056 748","aria-hidden":"true"},F=a("",1),C=[F],m=s("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("mo",null,"−"),s("mn",null,"200.0")])],-1),Q={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},T={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.05ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.891ex",height:"1.557ex",role:"img",focusable:"false",viewBox:"0 -666 1278 688","aria-hidden":"true"},u=a("",1),_=[u],f=s("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("mn",null,"0.0")])],-1),w=a("",3),B=s("code",null,"EmojiView",-1),x=s("code",null,"EmojiView",-1),v={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},A={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.05ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.891ex",height:"1.557ex",role:"img",focusable:"false",viewBox:"0 -666 1278 688","aria-hidden":"true"},b=a("",1),D=[b],V=s("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("mn",null,"0.0")])],-1),M={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},S={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.186ex"},xmlns:"http://www.w3.org/2000/svg",width:"6.914ex",height:"1.692ex",role:"img",focusable:"false",viewBox:"0 -666 3056 748","aria-hidden":"true"},j=a("",1),Z=[j],P=s("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("mo",null,"−"),s("mn",null,"200.0")])],-1),K={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},I={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.05ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.891ex",height:"1.557ex",role:"img",focusable:"false",viewBox:"0 -666 1278 688","aria-hidden":"true"},H=a("",1),L=[H],q=s("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("mn",null,"0.0")])],-1),N={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},G={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.05ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.891ex",height:"1.557ex",role:"img",focusable:"false",viewBox:"0 -666 1278 688","aria-hidden":"true"},z=a("",1),R=[z],O=s("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("mn",null,"0.0")])],-1),J={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},U={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.186ex"},xmlns:"http://www.w3.org/2000/svg",width:"6.914ex",height:"1.692ex",role:"img",focusable:"false",viewBox:"0 -666 3056 748","aria-hidden":"true"},$=a("",1),W=[$],X=s("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("mo",null,"−"),s("mn",null,"200.0")])],-1),Y=s("p",null,[i("虽然这种实现确实按预期工作，但使用 "),s("code",null,"PhaseAnimator"),i(" 是将离散步骤定义为动画阶段的更方便的方法。")],-1),ss=s("h3",{id:"bounce-with-a-phase-animator",tabindex:"-1"},[i("Bounce with a phase animator "),s("a",{class:"header-anchor",href:"#bounce-with-a-phase-animator","aria-label":'Permalink to "Bounce with a phase animator"'},"​")],-1),is=s("code",null,"PhaseAnimator",-1),as=s("code",null,"phaseAnimator(_:content:animation:)",-1),ns=s("code",null,"emoji",-1),ts=s("code",null,"true",-1),hs=s("code",null,"false",-1),ls=s("code",null,"true",-1),es=s("code",null,"emoji",-1),ps={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},ks={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.186ex"},xmlns:"http://www.w3.org/2000/svg",width:"6.914ex",height:"1.692ex",role:"img",focusable:"false",viewBox:"0 -666 3056 748","aria-hidden":"true"},rs=a("",1),Es=[rs],ds=s("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("mo",null,"−"),s("mn",null,"200.0")])],-1),os=s("code",null,"false",-1),gs=s("code",null,"emoji",-1),ys={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},cs={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.05ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.891ex",height:"1.557ex",role:"img",focusable:"false",viewBox:"0 -666 1278 688","aria-hidden":"true"},Fs=a("",1),Cs=[Fs],ms=s("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("mn",null,"0.0")])],-1),Qs=a("",3),Ts=s("code",null,"false",-1),us=s("code",null,"emoji",-1),_s={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},fs={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.05ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.891ex",height:"1.557ex",role:"img",focusable:"false",viewBox:"0 -666 1278 688","aria-hidden":"true"},ws=a("",1),Bs=[ws],xs=s("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("mn",null,"0.0")])],-1),vs=s("code",null,"true",-1),As={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},bs={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.186ex"},xmlns:"http://www.w3.org/2000/svg",width:"6.914ex",height:"1.692ex",role:"img",focusable:"false",viewBox:"0 -666 3056 748","aria-hidden":"true"},Ds=a("",1),Vs=[Ds],Ms=s("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("mo",null,"−"),s("mn",null,"200.0")])],-1),Ss=s("code",null,"false",-1),js={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},Zs={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.05ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.891ex",height:"1.557ex",role:"img",focusable:"false",viewBox:"0 -666 1278 688","aria-hidden":"true"},Ps=a("",1),Ks=[Ps],Is=s("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("mn",null,"0.0")])],-1),Hs=s("code",null,"emoji",-1),Ls=a("",12),qs={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},Ns={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.05ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.131ex",height:"1.557ex",role:"img",focusable:"false",viewBox:"0 -666 500 688","aria-hidden":"true"},Gs=s("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[s("g",{"data-mml-node":"math"},[s("g",{"data-mml-node":"mn"},[s("path",{"data-c":"30",d:"M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z",style:{"stroke-width":"3"}})])])],-1),zs=[Gs],Rs=s("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("mn",null,"0")])],-1),Os=s("code",null,"emoji",-1),Js={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},Us={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.186ex"},xmlns:"http://www.w3.org/2000/svg",width:"5.154ex",height:"1.692ex",role:"img",focusable:"false",viewBox:"0 -666 2278 748","aria-hidden":"true"},$s=a("",1),Ws=[$s],Xs=s("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("mo",null,"−"),s("mn",null,"200")])],-1),Ys=a("",24),si={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},ii={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.05ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.891ex",height:"1.557ex",role:"img",focusable:"false",viewBox:"0 -666 1278 688","aria-hidden":"true"},ai=a("",1),ni=[ai],ti=s("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("mn",null,"1.0")])],-1),hi=s("code",null,"emoji",-1),li={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},ei={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.05ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.891ex",height:"1.557ex",role:"img",focusable:"false",viewBox:"0 -666 1278 688","aria-hidden":"true"},pi=a("",1),ki=[pi],ri=s("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("mn",null,"1.5")])],-1),Ei=s("code",null,"emoji",-1),di={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},oi={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.05ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.891ex",height:"1.557ex",role:"img",focusable:"false",viewBox:"0 -666 1278 688","aria-hidden":"true"},gi=a("",1),yi=[gi],ci=s("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("mn",null,"1.0")])],-1),Fi=s("code",null,"emoji",-1),Ci=a("",51);function mi(Qi,Ti,ui,_i,fi,wi){return t(),n("div",null,[g,s("p",null,[i("这个动画只有一个离散的步骤：将表情符号向上移动。但是，一个动画可以有多个步骤，例如将表情符号向上移动然后返回其原始位置。例如，以下代码将偏移量设置为 "),s("mjx-container",y,[(t(),n("svg",c,C)),m]),i(" 以将表情符号向上移动，然后将偏移量设置为 "),s("mjx-container",Q,[(t(),n("svg",T,_)),f]),i(" 以将表情符号返回到其原始位置：")]),w,s("p",null,[i("然而，"),B,i(" 实际上经历了三个步骤。第一步发生在视图第一次出现时。"),x,i(" 视图的偏移量为 "),s("mjx-container",v,[(t(),n("svg",A,D)),V]),i("。当有人点击视图时，偏移量更改为 "),s("mjx-container",M,[(t(),n("svg",S,Z)),P]),i("；这是第二步。当该动画完成时，第三步将偏移量更改回 "),s("mjx-container",K,[(t(),n("svg",I,L)),q]),i("。但是，根据偏移量值（"),s("mjx-container",N,[(t(),n("svg",G,R)),O]),i(" 和 "),s("mjx-container",J,[(t(),n("svg",U,W)),X]),i("），只有两个离散步骤。")]),Y,ss,s("p",null,[is,i(" 会自动遍历一组给定的阶段来创建动画过渡。使用 "),as,i(" 修饰符为动画器提供用于更改动画值的阶段。例如，前面显示的 "),ns,i(" 弹性动画有两个阶段：向上移动和向后移动。可以使用布尔值 "),ts,i(" 和 "),hs,i(" 表示这些阶段。当阶段为 "),ls,i(" 时，"),es,i(" 向上移动到 "),s("mjx-container",ps,[(t(),n("svg",ks,Es)),ds]),i("。当阶段为 "),os,i(" 时，"),gs,i(" 通过将偏移量设置为 "),s("mjx-container",ys,[(t(),n("svg",cs,Cs)),ms]),i(" 移回原始位置。")]),Qs,s("p",null,[i("这意味着在前面的代码中，相位动画器在视图首次出现时使用阶段值 "),Ts,i(" 调用内容。这将 "),us,i(" 的偏移量设置为 "),s("mjx-container",_s,[(t(),n("svg",fs,Bs)),xs]),i("。然后，相位动画器使用 "),vs,i(" 阶段调用内容。此阶段将偏移量设置为 "),s("mjx-container",As,[(t(),n("svg",bs,Vs)),Ms]),i("，导致 emoji 向上移动。到达该偏移位置后，动画器使用 "),Ss,i(" 阶段调用内容。这会通过将其偏移量设置为 "),s("mjx-container",js,[(t(),n("svg",Zs,Ks)),Is]),i(" 使 "),Hs,i(" 返回到其原始位置。")]),Ls,s("p",null,[i("在初始和缩放阶段，偏移量为 "),s("mjx-container",qs,[(t(),n("svg",Ns,zs)),Rs]),i("，这是 "),Os,i(" 的原始屏幕位置。但是当阶段为移动时，偏移量为 "),s("mjx-container",Js,[(t(),n("svg",Us,Ws)),Xs]),i("。")]),Ys,s("p",null,[i("每种关键帧类型都接收一个值。动画器使用此值在帧之间生成内插值，并在调用动画器的内容闭包之前设置轨道键路径中指定的属性。例如，在前面的代码清单中，线性关键帧期间的缩放值为 "),s("mjx-container",si,[(t(),n("svg",ii,ni)),ti]),i("，这使 "),hi,i(" 保持其原始大小。然后，在第一个弹性关键帧期间，缩放值更改为 "),s("mjx-container",li,[(t(),n("svg",ei,ki)),ri]),i("。这导致 "),Ei,i(" 变大。最后的弹性关键帧将缩放设置回 "),s("mjx-container",di,[(t(),n("svg",oi,yi)),ci]),i("，这使 "),Fi,i(" 恢复到其原始大小。")]),Ci])}const vi=h(o,[["render",mi]]);export{xi as __pageData,vi as default};
